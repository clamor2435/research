%全体の２段組.tex 
\documentclass[a4j,twocolumn,fleqn]{jarticle}

  \usepackage{bacheloryokou-ec} % EC-日本語用
  %\usepackage{bacheloryokou-ec-eng} % For EC Eng.
  %\usepackage{bacheloryokou-ie} % IE-日本語用
  %\usepackage{bacheloryokou-ie-eng} % For IE Eng.
  \usepackage{amsmath}
  \Midterm % 中間発表/Midterm Presentation (最終発表時はコメントアウト)
  \Hiduke{2018年X月XX日} % 発表日/Date
  \Kosu{情報通信システムコース} % 講座/コース
  \Bangou{1731020} % 学籍番号/Number
  \Shimei{井田 恒太郎} % 氏名/Name
  \Daimoku{XXXXXXXX} % 題目/Title
  \Pshidou{キットスワン ナッタポン 助教} % 主指導教官
  \Sshidou{} % 副指導教官
  
%%%%%%    TEXT START    %%%%%% 
\begin{document} 
\Title
\section{始めに}
\subsection{研究背景}
近年、トラフィック量の増大に伴い有限な情報資源である周波数帯域が枯渇し始めているため、周波数帯域の有効活用が課題となっている。従来の伝送方式であり、与えられた要求に対して固定幅の周波数帯域幅を割り当てるWavelength Division Multiplexing (WDM)ではどのような要求に対しても全く同じ幅の周波数帯域を割り当ててしまうため、少ない要求に対して大きな周波数帯域幅を割り当ててしまう等、使用できる周波数帯域に無駄が生じてしまう問題があった。この生じてしまった無駄を有効活用するためにElastic Optical Network (EON)と呼ばれる、与えられた要求に対して必要な分だけ周波数帯域幅を割り当てる伝送方式が提唱された。そして、周波数帯域をより有効活用するために、EONにおいて割り当てる周波数帯域幅の単位であるスペクトルスロットの使用数削減を目的とした研究が多く行われてきている。

しかしながら、組織やネットワークサービス提供業者によって形成されてるドメインのネットワークであるマルチドメインネットワークにおいて、データ損失や通信の切断を未然に防ぐような信頼性を伴うEONの使用スペクトルスロット数削減に関する研究はまだ行われていない。理由として考えられるのは、ドメイン内部のシステムやルーティング情報がプライバシーや他ドメインとの規格調整が要因となり不透明であることが挙げられる。従ってあらかじめ情報が分かっているドメイン間とドメイン内部を別個に考え、それぞれにおいてルーティングやスペクトルスロット数を考える必要がある。
\subsection{研究の目的}
本研究は、マルチドメイン光ネットワーク環境下におけるEONにおいて合計使用スペクトルスロット数をドメイン間とドメイン内部それぞれにおいて最小化することで光パスを供給する。
\section{提案方式}
%順番
%1，どのように光路を供給するのかを簡単に記述
%2，各パラメーターの取り得る値の範囲、説明
%3，各変数の取り得る値の範囲、説明
%4，目的関数と制約条件を正確に記述
%5，4で記述した条件式の説明を細かく行う
%
%注意事項
%文字式や上付き、下付き文字は必ず統一すること
%複数行にまたがる数式の式番号は一番最後の行に挿入すること
%とにかく詳しく記述すること。くどい位で丁度いい
\subsection{ドメイン間の光路供給}
整数線形計画問題（Integer Linear Programming, ILP）で使用するパラメータ、式、変数の説明を行う。EONにおけるネットワークグラフは$D$個のドメインを所有し、$i$番目のドメインが$n^i$個の光ノードを、その内$b^i$個の境界ノードを所有している。ドメイン自体も部分グラフ$G^i (V^i ,L^i)$を有しており、 $V^i = \{v^i_1,v^i_2, \dots \} $はドメイン$i$の持つ光ノードを表し、$L^i = \{l^{ii}_{jk}\}(1\leq i \leq D,1\leq j,k \leq n^i)$はドメイン$i$の持つノード$v^i_j$とノード$v^i_k$との間の光リンクを表す。その光リンクもEONに必要なスロット数のパラメータを持っており、その値の要素を$F=\{0,1,2,\dots ,|F|-1\}$としている。また、ドメイン間にもリンクは存在し$\{l^{ij}_{km}\}(1\leq i,j\leq D,1\leq k\leq b^i,1\leq m \leq b^j)$で表され、全てのリンクは同一のスロット数$|F|$個を所有している。

ドメイン間ルーティングの要求に関するパラメータの定義は次の通り。要求の総数は$N=\{1,2,\dots |N|\}$で表され、その要求それぞれも三つの要素$(s_n,d_n,r_n)$からなり、$s_n$は発ノード、$d_n$は着ノード、$r_n$は必要スロット数を表している。ドメイン内ルーティングの要求に関するパラメータの定義も同様に、要求の総数を$N'=\{1,2,\dots |N'|\}$と表し、その要求それぞれの要素も$(s_{n'}',d_{n'}',r_{n'}')$からなり、$s_{n'}'$は発ノード、$d_{n'}'$は着ノード、$r_{n'}'$は必要スロット数を表している。\\
光パスの供給を行う決定変数の定義は次の通り。変数$x_{p^{nij}_{kmf}}$は$n$番目の要求がプライマリパスとしてリンク$l^{ij}_{km}$のスロット$f \in F$を先頭として使用しているかどうかを表す二進数変数で、1の時に使用していることを表し、0の時に使用していないことを表す。変数$x_{b^{nij}_{kmf}}$は$n$番目の要求がバックアップパスとしてリンク$l^{ij}_{km}$のスロット$f\in F$を先頭として使用しているかどうかを表す二進数変数で、1の時に使用していることを表し、0の時に使用していないことを表す。変数$y_{p^{nij}_{kmf}}$は$n\in N$番目の要求がプライマリパスとしてリンク$l^{ij}_{km}$のスロット$f$を使用しているかどうかを表す二進数変数で、1の時に使用していることを表し、0の時に使用していないことを表す。変数$y_{b^{nij}_{kmf}}$は$n\in N$番目の要求がバックアップパスとしてリンク$l^{ij}_{km}$のスロット$f\in F$を使用しているかどうかを表す二進数変数で、1の時に使用していることを表し、0の時に使用していないことを表す。\\
{\large \bf 目的関数}
\begin{equation}%式(1)
\displaystyle \min \sum_{n \in N} \sum_{f \in F} \sum_{l^{ij}_{km} \in E}(y_{p^{nij}_{kmf}} + y_{b^{nij}_{kmf}})
\end{equation}
{\large \bf 制約条件}
\begin{eqnarray}
	& \displaystyle \sum_{f \in F}x_{p^{nij}_{kmf}} \leq 1,\quad \forall l^{ij}_{km} \in E,n \in N\\%(2)
	& \displaystyle \sum_{f \in F}x_{b^{nij}_{kmf}} \leq 1,\quad \forall l^{ij}_{km} \in E,n \in N\\%(3)
	& \displaystyle x_{p^{nij}_{kmf}} \leq y_{p^{nij}_{kmf'}},\, \forall n \in N,f \in \{0,1, \cdots ,(|F| - r_n)\}, \nonumber \\
	&f' \in \{f, \cdots ,(f + r_n -1)\}\\%(4)
	& \displaystyle x_{b^{nij}_{kmf}} \leq y_{b^{nij}_{kmf'}},\, \forall n \in N,f \in \{0,1, \cdots ,(|F| - r_n)\}, \nonumber \\
	&f' \in \{f, \cdots ,(f + r_n -1)\}\\%(5)
	&\displaystyle x_{p^{nij}_{kmf}}=0,\quad \forall l^{ij}_{km}\in E,n \in N,\nonumber \\
	&f \in \{(|F|-r_n +1),\cdots,(|F|-1)\}\\%(6)
	&\displaystyle x_{b^{nij}_{kmf}}=0,\quad\forall l^{ij}_{km}\in E,n \in N,\nonumber \\
	&f \in \{(|F|-r_n +1),\cdots,(|F|-1)\}\\%(7)
	&\displaystyle \sum_{n \in N}(y_{p^{nij}_{kmf}} + y_{b^{nij}_{kmf}}) \leq 1,\quad \forall f \in F, l^{ij}_{km}\in E\\%(8)
	&\displaystyle \sum_{f \in F}x_{p^{nij}_{kmf}} = \frac{1}{r_n} \sum_{f \in F}y_{p^{nij}_{kmf}},\, \forall n \in N, l^{ij}_{km} \in E\\%(9)
	&\displaystyle \sum_{f \in F}x_{b^{nij}_{kmf}} = \frac{1}{r_n} \sum_{f \in F}y_{b^{nij}_{kmf}},\, \forall n \in N, l^{ij}_{km} \in E\\%(10)
	&\displaystyle \sum_{f \in F}\sum_{(j,m):l^{ij}_{km}}y_{p^{nij}_{kmf}} - \sum_{f \in F}\sum_{(j,m):l^{ji}_{mk}}y_{p^{nji}_{mkf}} = \nonumber \\
	&\begin{cases}
	r_n,&{\rm if}\quad v^i_k = s_n,\\
	-r_n,&{\rm if}\quad v^i_k = d_n,\, \forall n\in N\\ %(11)
	0,&{\rm otherwise}\\
	\end{cases}\\
	&\displaystyle \sum_{f \in F}\sum_{(j,m):l^{ij}_{km}}y_{b^{nij}_{kmf}} - \sum_{f \in F}\sum_{(j,m):l^{ji}_{mk}}y_{b^{nji}_{mkf}} = \nonumber \\
	&\begin{cases}
	r_n,&{\rm if}\quad v^i_k = s_n\\
	-r_n,&{\rm if}\quad v^i_k = d_n,\, \forall n\in N\\ %(12)
	0,&{\rm otherwise}
	\end{cases}\\
	&\displaystyle \sum_{f \in F}\sum_{n \in N}(y_{p^{nij}_{kmf}} + y_{b^{nij}_{kmf}}) \leq |F|,\, \forall l^{ij}_{km} \in E \\%(13)
	&\displaystyle \sum_{f \in F}(x_{p^{nij}_{kmf}}+x_{b^{nij}_{kmf}}) \leq 1,\forall\, n \in N,l^{ij}_{km} \in E\\%(14)
	&\displaystyle \sum_{(k,m):l^{ij}_{km} \in E}\sum_{f \in F}x_{p^{nij}_{kmf}} =\sum_{(k,m):l^{ij}_{km} \in E}\sum_{f \in F}x_{b^{nij}_{kmf}},\nonumber\\
	&\displaystyle \forall n \in N,i \in D,j \in D,i \neq j\\%(15)
	&\displaystyle \sum_{l^{ij}_{km} \in E}\sum_{f \in F}x_{p^{nij}_{kmf}} \leq \sum_{l^{ij}_{km} \in E}\sum_{f \in F}x_{b^{nij}_{kmf}},\, \forall n\in N%(16)
\end{eqnarray}
\begin{eqnarray}
%以降、決定変数の取り得る値の範囲　式(17-20)
	&\displaystyle x_{p^{nij}_{kmf}} \in \{0,1\},\forall n \in N,f \in F,l^{ij}_{km}\in E\\
	&\displaystyle x_{b^{nij}_{kmf}} \in \{0,1\},\forall n \in N,f \in F,l^{ij}_{km}\in E\\
	&\displaystyle y_{p^{nij}_{kmf}} \in \{0,1\},\forall n \in N,f \in F,l^{ij}_{km}\in E\\
	&\displaystyle y_{b^{nij}_{kmf}} \in \{0,1\},\forall n \in N,f \in F,l^{ij}_{km}\in E
\end{eqnarray}
式(1)は目的関数であり、使用されたスペクトルスロット数を最小化する。式(2)、式(3)は各要求のプライマリパス、バックアップパスが各リンクの所有するスロットから先頭を一つだけ選ぶことを示す。式(4)、式(5)は各要求のプライマリパス、バックアップパスで使用するスロットの先頭が決まるとそこから割り当てられるスロットが決まることを示す。式(6)、式(7)は各要求のプライマリパス、バックアップパスで使用するスロットの先頭の入る余地が存在しない部分を示す。式(8)はプライマリパス、バックアップパスで使用しているスロットに重複が存在しないことを示す。式(9)、式(10)は決定変数である使用スロットの先頭と使用スロットとの間の関係。式(11)、式(12)はフロー制約を表し、ノードに流入する要求スロット数とノードから流出する要求スロット数との間に差が無いことを示す。式(13)はプライマリパス、バックアップパスで使用しているスロット総数の最大値を表す。式(14)はプライマリパス、バックアップパスとでリンクの重複を制限する。式(15)はプライマリパスとバックアップパスとで通過するドメインの順番が一致することを示す。式(16)はプライマリパスとバックアップパスとでホップ数の少ない方をプライマリパスと定めている。式(17)-(20)は決定変数であるプライマリパス、バックアップパスのスロットの先頭及び使用スロットの要素成分を表している。
\end{document}

